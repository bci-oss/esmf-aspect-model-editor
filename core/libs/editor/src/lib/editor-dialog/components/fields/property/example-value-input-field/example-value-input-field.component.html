<!--
  ~ Copyright (c) 2024 Robert Bosch Manufacturing Solutions GmbH
  ~
  ~ See the AUTHORS file(s) distributed with this work for
  ~ additional information regarding authorship.
  ~
  ~ This Source Code Form is subject to the terms of the Mozilla Public
  ~ License, v. 2.0. If a copy of the MPL was not distributed with this
  ~ file, You can obtain one at https://mozilla.org/MPL/2.0/.
  ~
  ~ SPDX-License-Identifier: MPL-2.0
  -->
@if (isDataTypeBoolean) {
  <mat-form-field [floatLabel]="displayControl?.disabled ? 'always' : 'auto'" appearance="fill">
    <mat-label>exampleValue</mat-label>
    <mat-select [formControl]="displayControl">
      <mat-option (click)="selectExampleValue(TRUE)" value="true"> true </mat-option>
      <mat-option (click)="selectExampleValue(FALSE)" value="false"> false </mat-option>
    </mat-select>
  </mat-form-field>
} @else {
  <mat-form-field
    [floatLabel]="displayControl.disabled ? 'always' : 'auto'"
    [matTooltip]="this.hasComplexDataType ? 'exampleValue disabled for complex datatypes' : ''"
    appearance="fill"
  >
    <mat-label for="exampleValue">exampleValue</mat-label>
    <input #exampleValueInput [formControl]="displayControl" [matAutocomplete]="auto" matInput name="exampleValue" />
    @if (displayControl.disabled) {
      <button (click)="unlockExampleValue(auto)" data-cy="clear-example-value-button" matSuffix mat-icon-button tabindex="-1">
        <mat-icon>close</mat-icon>
      </button>
    }

    <mat-autocomplete #auto="matAutocomplete" [hideSingleSelectionIndicator]="true">
      @if (exampleValueInput.value) {
        <mat-option [value]="exampleValueInput.value" (click)="selectExampleValue(exampleValueInput.value)">
          + New scalar value: {{ exampleValueInput.value }}
        </mat-option>
      }

      @let fValues = filteredValues();
      @if (fValues.length === 0 && exampleValueInput.value) {
        <mat-option [value]="exampleValueInput.value" (click)="selectExampleValue(exampleValueInput.value, false)">
          <ame-element [type]="{name: 'value', symbol: 'V'}" [name]="`+ New Value: ${exampleValueInput.value}`" size="medium"></ame-element>
        </mat-option>
      } @else {
        @for (value of fValues; track value.name) {
          <mat-option [value]="value.name" (click)="selectExampleValue(value)">
            <ame-element [type]="{name: 'value', symbol: 'V'}" [name]="value.name" size="medium"></ame-element>
          </mat-option>
        }
      }
    </mat-autocomplete>
  </mat-form-field>
}
